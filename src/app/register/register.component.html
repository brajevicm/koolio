<div class="col-xs-12 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
    <h2>Register</h2>
    <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
            <label for="firstname">First Name</label>
            <input type="text" class="form-control" name="firstname" [(ngModel)]="model.firstname" #firstname="ngModel"
                   required/>
            <div *ngIf="f.submitted && !firstname.valid" class="help-block">First Name is required</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
            <label for="lastname">Last Name</label>
            <input type="text" class="form-control" name="lastname" [(ngModel)]="model.lastname" #lastname="ngModel"
                   required/>
            <div *ngIf="f.submitted && !lastname.valid" class="help-block">Last Name is required</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
            <label for="username">Username</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="model.username" #username="ngModel"
                   required/>
            <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
            <label for="password">Password</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="model.password"
                   #password="ngModel"
                   required/>
            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !files }">
            <div class="input-group">
                <label for="files">User Image</label>
                <input name="files" type="file" class="form-control"
                       accept="image/png, image/jpeg, image/gif"
                       ngFileSelect
                       (uploadOutput)="onUploadOutput($event)"
                       [uploadInput]="uploadInput"
                       [(ngModel)]="files"
                       #image="ngModel"
                />
                <div *ngIf="f.submitted && !files" class="help-block">Image is required</div>

                <div class="col-xs-12 col-md-6" *ngIf="files && files.length">
                    <div class="upload-file" *ngFor="let f of files; let i = index;">
                        <div class="progress-bar-container">
                            <div class="bar" [style.width]="f.progress.data.percentage + '%'"
                                 [ngClass]="{ 'green': f.progress.data.percentage === 100 }"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div></div>
        <div class="form-group">
            <button [disabled]="loading" class="btn btn-default">Register</button>
            <button type="button" *ngIf="loading" [routerLink]="['/hot']" class="btn btn-success">Finish</button>
        </div>
    </form>
</div>